<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>True by ericam</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">True</h1>
      <h2 class="project-tagline">Unit Tests for Sass</h2>
      <a href="https://github.com/ericam/true" class="btn">View on GitHub</a>
      <a href="https://github.com/ericam/true/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ericam/true/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="true" class="anchor" href="#true" aria-hidden="true"><span class="octicon octicon-link"></span></a>True</h1>

<p><a href="https://travis-ci.org/ericam/true"><img src="https://travis-ci.org/ericam/true.png?branch=master" alt="Build Status"></a></p>

<p><em>Verb</em></p>

<ol>
<li>To make true; shape, adjust, place, etc., exactly or accurately:
<em>True the wheels of a bicycle after striking a pothole.</em>
</li>
<li>To make even, symmetrical, level, etc. (often followed by <em>up</em>):
<em>True up the sides of a door.</em>
</li>
<li>To test your Sass code; debug, perfect, etc. (often using <em>True</em>):
<em>True your sweet plugin before you deploy.</em>
</li>
</ol>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p>in command line:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># ruby gem</span>
gem install <span class="pl-c1">true</span>

<span class="pl-c"># bower package</span>
bower install <span class="pl-c1">true</span>

<span class="pl-c"># npm module</span>
npm install sass-true</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a id="in-sass" class="anchor" href="#in-sass" aria-hidden="true"><span class="octicon octicon-link"></span></a>In Sass</h3>

<div class="highlight highlight-source-scss"><pre><span class="pl-k">@import</span> "<span class="pl-v">true</span>";

<span class="pl-k">@include</span> <span class="pl-c1">test-module</span>(<span class="pl-s"><span class="pl-pds">'</span>Utilities<span class="pl-pds">'</span></span>) {

<span class="pl-c">  // Testing Functions</span>
  <span class="pl-k">@include</span> <span class="pl-c1">test</span>(<span class="pl-s"><span class="pl-pds">'</span>Map Add [function]<span class="pl-pds">'</span></span>) {
    <span class="pl-smi">$base</span>: (one:<span class="pl-c1"> 1</span>, two:<span class="pl-c1"> 1</span>, three:<span class="pl-c1"> 1</span>);
    <span class="pl-smi">$add</span>: (one:<span class="pl-c1"> 1</span>, two:<span class="pl-c1"> 2</span>, three: <span class="pl-c1">-1</span>);

    <span class="pl-smi">$test</span>: <span class="pl-c1">map-add</span>(<span class="pl-smi">$base</span>, <span class="pl-smi">$add</span>);
    <span class="pl-smi">$expect</span>: (one:<span class="pl-c1"> 2</span>, two:<span class="pl-c1"> 3</span>, three:<span class="pl-c1"> 0</span>);
    <span class="pl-k">@include</span> <span class="pl-c1">assert-equal</span>(<span class="pl-smi">$test</span>, <span class="pl-smi">$expect</span>,<span class="pl-v"></span>
      <span class="pl-s"><span class="pl-pds">'</span>Returns the sum of two numeric maps<span class="pl-pds">'</span></span>);
  }

<span class="pl-c">  // Testing Mixins</span>
  <span class="pl-k">@include</span> <span class="pl-c1">test</span>(<span class="pl-s"><span class="pl-pds">'</span>Font Size [mixin]<span class="pl-pds">'</span></span>) {
    <span class="pl-k">@include</span> <span class="pl-c1">assert</span>(<span class="pl-s"><span class="pl-pds">'</span>Outputs a font size and line height based on keyword.<span class="pl-pds">'</span></span>) {
      <span class="pl-k">@include</span> <span class="pl-c1">input</span> {
        <span class="pl-k">@include</span> <span class="pl-c1">font-size</span>(<span class="pl-v">large</span>);
      }

      <span class="pl-k">@include</span> <span class="pl-c1">expect</span> {
        <span class="pl-c1"><span class="pl-c1">font-size</span></span>: <span class="pl-c1">2</span><span class="pl-k">rem</span>;
        <span class="pl-c1"><span class="pl-c1">line-height</span></span>: <span class="pl-c1">3</span><span class="pl-k">rem</span>;
      }
    }
  }
}

<span class="pl-c">// Optionally show summary report in CSS and/or the command line:</span>
<span class="pl-c">// - If you use Mocha, reporting to the command line is automatic.</span>
<span class="pl-c">// - if you use true-cli, report(terminal) is required for output.</span>
<span class="pl-k">@include</span> <span class="pl-c1">report</span>;</pre></div>

<p><strong>Note:</strong>
Function unit-tests work across the board,
but testing mixins can be a bit more complex.
At this point,
only Mocha is able to compare/report the results of mixin tests,
as long as the mixins don't manipulate the selector chain
(it can't test media-query mixins for example).
Without using Mocha,
you can test any mixin,
but you will have to compare the expected and actual results manually
in the output code.
Version control can make that much easier than it sounds.</p>

<h3>
<a id="with-node-sass-and-mocha-or-other-js-test-runners" class="anchor" href="#with-node-sass-and-mocha-or-other-js-test-runners" aria-hidden="true"><span class="octicon octicon-link"></span></a>With node-sass and Mocha (or other JS test runners)</h3>

<ol>
<li><p>Install <code>true</code> via npm (<code>npm install sass-true</code>).</p></li>
<li><p>Write some Sass tests in <code>test/test.scss</code> (see above).</p></li>
<li>
<p>Write a shim JS test file in <code>test/test_sass.js</code>:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> path <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>path<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> sassTrue <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>sass-true<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> sassFile <span class="pl-k">=</span> path.<span class="pl-c1">join</span>(<span class="pl-c1">__dirname</span>, <span class="pl-s"><span class="pl-pds">'</span>test.scss<span class="pl-pds">'</span></span>);
sassTrue.runSass({file<span class="pl-k">:</span> sassFile}, describe, it);</pre></div>
</li>
<li><p>Run Mocha, and see your Sass tests reported as individual test results.</p></li>
</ol>

<p>You can call <code>runSass</code> more than once, if you have multiple Sass test files you
want to run separately.</p>

<p>The first argument to <code>runSass</code> accepts the same options that node-sass'
<code>renderSync</code> function accepts. The only modification <code>runSass</code> makes is to add
True's sass path to the <code>includePaths</code> option, so <code>@import 'true';</code> works in
your Sass test file.</p>

<p>Any other JS test runner with equivalents to Mocha's <code>describe</code> and <code>it</code> should
be usable in the same way; just pass your test runner's <code>describe</code> and <code>it</code>
equivalents into <code>runSass</code>.</p>

<h3>
<a id="with-ruby-sass-on-the-command-line" class="anchor" href="#with-ruby-sass-on-the-command-line" aria-hidden="true"><span class="octicon octicon-link"></span></a>With ruby-sass on the command line</h3>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">true</span>-cli [options] PATH</pre></div>

<p>Options:</p>

<ul>
<li>
<code>-s</code> silent</li>
<li>
<code>-c</code> config file</li>
<li>
<code>-d</code> debug config file settings</li>
</ul>

<p>Config file (optional):</p>

<div class="highlight highlight-source-yaml"><pre><span class="pl-s"><span class="pl-ent">options:</span></span>
  <span class="pl-s"><span class="pl-ent">color:</span> <span class="pl-s">true  </span></span><span class="pl-c"># enables colored output</span>

<span class="pl-c"># require ruby sass extension libraries</span>
<span class="pl-s"><span class="pl-ent">require:</span></span>
  <span class="pl-s">- <span class="pl-s"><span class="pl-pds">"</span>compass<span class="pl-pds">"</span></span></span>
  <span class="pl-s">- <span class="pl-s"><span class="pl-pds">"</span>serialy_sassy<span class="pl-pds">"</span></span></span></pre></div>

<p>default location: <code>test/true.yml</code></p>

<h2>
<a id="settings" class="anchor" href="#settings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Settings</h2>

<p>There is only one setting:
<code>$true-terminal-output</code>
toggles output to the terminal on or off.</p>

<ul>
<li>
<code>true</code> will show detailed information on failing assertions.
This is the default, and best for using <code>true-cli</code>.</li>
<li>
<code>false</code> to turn off all terminal output.</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ericam/true">True</a> is maintained by <a href="https://github.com/ericam">ericam</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
